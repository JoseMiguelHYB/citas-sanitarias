<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8" />
	<title>Listado de Pacientes</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			font-size: 13px;
		}

		table {
			border-collapse: collapse;
			width: 95%;
			margin: auto;
		}

		th,
		td {
			border: 1px solid #ccc;
			padding: 4px 6px;
			text-align: center;
		}

		th {
			background-color: #d3f9d8;
			;
		}

		.btn-ver {
			background-color: #3498db;
			color: white;
			padding: 3px 6px;
			font-size: 12px;
			border: none;
			border-radius: 4px;
			cursor: pointer;
			text-decoration: none;
		}

		.btn-ver:hover {
			background-color: #2980b9;
		}

		h1 {
			text-align: center;
			font-size: 22px;
		}

		/* Colores por estado */
		.cancelada {
			color: red;
			font-weight: bold;
		}

		.pendiente {
			color: orange;
			font-weight: bold;
		}

		.confirmada {
			color: green;
			font-weight: bold;
		}
	</style>
</head>

<body>
	<h1 style="text-align: center;">Listado de Citas</h1>
	<table>
		<thead>
			<tr>
				<th>ID</th>
				<th>Fecha y Hora</th>
				<th>Motivo</th>
				<th>Estado</th>
				<th>ID Paciente</th>
				<th>ID M√©dico</th>
				<th>Tipo Consulta</th>
				<th>Ubicaci√≥n</th>
				<th>Observaciones</th>
				<th>Creado en</th>
				<th>Modidicado en</th>
				<th>Duraci√≥n en minutos</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="cita : ${citas}">
				<td th:text="${cita.id}"></td>
				<td th:text="${#temporals.format(cita.fechaHora, 'dd/MM/yyyy HH:mm')}"></td>
				<td th:text="${cita.motivo}"></td>
				<td th:text="${cita.estado}" th:classappend="${
                        cita.estado == 'CANCELADA' ? 'cancelada' :
                        (cita.estado == 'PENDIENTE' ? 'pendiente' :
                        (cita.estado == 'CONFIRMADA' ? 'confirmada' : ''))}">
				</td>
				<td th:text="${cita.paciente.id}"></td>
				<td th:text="${cita.medico.id}"></td>
				<td>
					<span th:if="${cita.tipoConsulta == 'Online'}">üíª</span>
					<span th:if="${cita.tipoConsulta == 'Telefonica'}">üìû</span>
					<span th:if="${cita.tipoConsulta == 'Presencial'}">üè•</span>
					<span th:text="${cita.tipoConsulta}"></span>
				</td>
				<td th:text="${cita.ubicacion}"></td>
				<td th:text="${cita.observaciones}"></td>
				<td th:text="${cita.creadaEn}"></td>
				<td th:text="${cita.modificadaEn}"></td>
				<td th:text="${cita.duracionMinutos}"></td>
			</tr>
		</tbody>
	</table>
</body>

</html>