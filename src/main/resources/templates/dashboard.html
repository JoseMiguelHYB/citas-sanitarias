<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	    <title>Detalle de Cita</title>
	    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	    <style>
	        body {
	            font-family: 'Arial', sans-serif;
	            background-color: #f9f9f9;
	            padding: 2rem;
	        }

	        .card-cita {
	            background: #fff;
	            border: 1px solid #ccc;
	            border-radius: 8px;
	            padding: 1.5rem;
	            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
	            max-width: 800px;
	            margin: auto;
	        }

	        .card-cita h5 {
	            font-weight: bold;
	            color: #0070c0;
	        }

	        .destacado {
	            background: #0070c0;
	            color: white;
	            padding: 1rem;
	            border-radius: 4px;
	            margin: 1rem 0;
	        }

	        .acciones img {
	            width: 32px;
	            margin-right: 0.5rem;
	        }

	        .acciones a {
	            display: inline-block;
	            margin-right: 1rem;
	            text-decoration: none;
	        }

	        .btn-action {
	            display: inline-block;
	            margin: 0.5rem;
	            padding: 0.6rem 1.2rem;
	            border: 1px solid #0070c0;
	            border-radius: 5px;
	            color: #0070c0;
	            text-decoration: none;
	            font-weight: 600;
	            background: white;
	        }

	        .btn-action:hover {
	            background: #e6f0fb;
	        }

	    </style>
</head>
<body>
    <div class="dark-toggle">
        <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="darkSwitch">
            <label class="form-check-label" for="darkSwitch">🌙</label>
        </div>
    </div>

    <div class="card-cita">
		<h5 th:text="${paciente.nombre} ?: 'Paciente'">[Paciente]</h5>
		<p><strong>Especialidad:</strong> <span th:text="${medico.especialidad}">Medicina de Familia o Pediatría</span></p>

        <h2 th:utext="'Soy <span class=\'paciente-nombre\'>' + ${paciente.nombre} + '</span> y este es mi panel principal.'"></h2>
        <hr class="my-4">
        <h3 class="fw-semibold">CRUD de citas sanitarias</h3>

        <div class="d-grid gap-3 mt-4">
            <a th:href="@{/citas/nueva}" class="btn btn-success">📅 Solicitar Cita</a>
            <a th:href="@{/citas}" class="btn btn-primary">📖 Leer Mis Citas</a>
            <a th:href="@{/citas/editar}" class="btn btn-warning text-white">✏️ Actualizar Cita</a>
            <a th:href="@{/citas/eliminar}" class="btn btn-danger">🗑️ Eliminar Cita</a>
        </div>

        <form th:action="@{/logout}" method="post" class="mt-4">
            <button class="btn btn-logout">Cerrar sesión</button>
        </form>
    </div>

    <script>
        // Modo oscuro
        const toggle = document.getElementById('darkSwitch');
        const root = document.documentElement;

        if (localStorage.getItem('dark-mode') === 'enabled') {
            root.classList.add('dark-mode');
            toggle.checked = true;
        }

        toggle.addEventListener('change', () => {
            if (toggle.checked) {
                root.classList.add('dark-mode');
                localStorage.setItem('dark-mode', 'enabled');
            } else {
                root.classList.remove('dark-mode');
                localStorage.setItem('dark-mode', 'disabled');
            }
        });

        // Saludo según hora del día con emoji
        const saludo = document.getElementById('saludo');
        const hora = new Date().getHours();

        if (hora >= 6 && hora < 12) {
            saludo.textContent = "👋 ¡Buenos días!";
        } else if (hora >= 12 && hora < 20) {
            saludo.textContent = "🌞 ¡Buenas tardes!";
        } else {
            saludo.textContent = "🌙 ¡Buenas noches!";
        }
    </script>
</body>
</html>
